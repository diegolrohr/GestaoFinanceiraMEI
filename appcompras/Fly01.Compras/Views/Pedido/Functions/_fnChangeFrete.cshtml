<script>

    function noComma(e) {
        return e.replace(',', '.');
    }

    function fnChangeFrete() {
        var valorFrete = parseFloat(noComma($('input#valorFrete').val()));
        var valorTotal = parseFloat(noComma($('input#totalProdutos').val()));
        
        $('input#totalFrete').val(0);
        $('input#valorFrete').removeAttr('disabled');
        $('#transportadoraNome').rules("remove", "required");
        $('#transportadoraNome').removeClass("invalid");

        if ($('select#tipoFrete').val() == "FOB" || $('select#tipoFrete').val() == "Destinatario") {
            $('input#totalFrete').val(valorFrete);
            valorTotal += valorFrete;
            $('#transportadoraNome').rules("add", { required: true });
        }
        else if ($('select#tipoFrete').val() == "SemFrete") {
            $('input#valorFrete').val(0);
            $('input#valorFrete').attr('disabled', 'disabled');
        }
        $('input#totalPedido').val(valorTotal);
        fly01.fn.updateTextFields();
    }
</script>