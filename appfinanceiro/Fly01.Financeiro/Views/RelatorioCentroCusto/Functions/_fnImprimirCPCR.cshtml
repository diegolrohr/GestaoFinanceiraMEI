
<script>
    @Html.Partial("Functions/_fnImprimir");

    function fnImprimir() {
        if ($('input#dataEmissaoInicial').val() === "" || $('input#dataEmissaoFinal').val() === "") 
            $$$.toast("Informe a data de emissão final e inicial.", 'error');
        else if ($('input#dataInicial').val() === "" || $('input#dataFinal').val() === "") 
            $$$.toast("Informe a data inicial e a data final.", 'error');
        else {
                var dataEmissaoInicialDisplay = moment($('input#dataEmissaoInicial').val(), "DD/MM/YYYY");
                var dataEmissaoInicial = moment(dataEmissaoInicialDisplay).format('YYYY-MM-DD');

                var dataEmissaoFinalDisplay = moment($('input#dataEmissaoFinal').val(), "DD/MM/YYYY");
                var dataEmissaoFinal = moment(dataEmissaoFinalDisplay).format('YYYY-MM-DD');

                var dataInicialDisplay = moment($('input#dataInicial').val(), "DD/MM/YYYY");
                var dataInicial = moment(dataInicialDisplay).format('YYYY-MM-DD');

                var dataFinalDisplay = moment($('input#dataFinal').val(), "DD/MM/YYYY");
                var dataFinal = moment(dataFinalDisplay).format('YYYY-MM-DD');

                var clienteId = $("clienteId").val();
                var formaPagamentoId = $("formaPagamentoId").val();    
                var condicaoParcelamentoId = $("condicaoParcelamentoId").val();
                var categoriaId = $("categoriaId").val();
                var centroCustoId = $("centroCustoId").val();

            var url = '@Url.Action("Imprimir", "RelatorioCentroCusto")?dataInicial=' + dataInicial +
                "&dataFinal=" + dataFinal +
                "&dataEmissaoInicial=" + dataEmissaoInicial +
                "&dataEmissaoFinal=" + dataEmissaoFinal +
                "&formaPagamentoId=" + formaPagamentoId +
                "&condicaoParcelamentoId=" + condicaoParcelamentoId +
                "&categoriaId=" + categoriaId +
                "&centroCustoId=" + centroCustoId +
                "&clienteId=" + clienteId ;

                fnImprimir(url);
             }
    }
</script>