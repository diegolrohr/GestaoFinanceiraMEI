<script>
    function fnSimular(event) {
        $$$.loading.start();
        var valor = document.getElementById("valorRecebivel").value.replace(",", ".");
        var totalAntecipavel = document.getElementById("rangeRecebivel").getAttribute("max");

        if (valor > 0 && valor <= totalAntecipavel) {
            $.ajax({
                url: '@Url.Action("AntecipacaoSimular", "Stone")',
                type: "GET",
                data: { valor: valor },
                success: function (data) {
                    $$$.loading.stop();
                    if (data.message) {                        
                        $$$.toast(data.message, 'error');
                    } else {
                        $$$._.dtSimulacao.draw();
                    }
                },
            });
        }
    }
</script>
