<script>
    function fnToggleMovimentaEstoque() {
        var haveToShow = fnHaveToShow();
        if (!haveToShow) {
            $('#infoEstoqueNegativoField').hide();
            $('#produtosEstoqueNegativoLabelField').hide();
            $('#ajusteEstoqueAutomaticoField').hide();
            $('#produtosEstoqueNegativoField').hide();
        }
        else {
            $('#infoEstoqueNegativoField').show();
            $('#produtosEstoqueNegativoLabelField').show();
            $('#ajusteEstoqueAutomaticoField').show();
            $('#produtosEstoqueNegativoField').show();
        }
    }

    function fnHaveToShow() {        
        var x = (
                ($$$._.dtProdutosEstoqueNegativo.ajax.json().recordsTotal > 0) &&
                $('#movimentaEstoque').is(':checked') &&
                ($('#tipoVenda').val() == "Normal" || ($('#tipoVenda').val() == "Complementar" && $('#tipoNfeComplementar').val() == "ComplPrecoQtd"))
            );
        return x;
    }
</script>