<script>
    function fnToggleMovimentaEstoque() {
        var haveToShow = fnHaveToShow();
        if (!haveToShow) {
            $('#infoEstoqueNegativoField').hide();
            $('#produtosEstoqueNegativoLabelField').hide();
            $('#ajusteEstoqueAutomaticoField').hide();
            $('#produtosEstoqueNegativoField').hide();
        }
        else {
            $('#infoEstoqueNegativoField').show();
            $('#produtosEstoqueNegativoLabelField').show();
            $('#ajusteEstoqueAutomaticoField').show();
            $('#produtosEstoqueNegativoField').show();
        }
    }

    function fnHaveToShow() {
        return $$$._.dtProdutosEstoqueNegativo.ajax.json().recordsTotal > 0 && $('#movimentaEstoque').is(':checked')
            && ($('#tipoCompra').val() == "Devolucao");
    }
</script>